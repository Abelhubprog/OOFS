# OOF Backend - Production Configuration Sample
# Copy this to .env in your Railway deployment

# ================================
# Railway PostgreSQL & Redis
# ================================
# These are automatically provided by Railway add-ons
# DATABASE_URL=postgresql://username:password@host:port/database
# REDIS_URL=redis://username:password@host:port

# ================================
# Dynamic.xyz Authentication
# ================================
# Get these from your Dynamic.xyz dashboard
DYNAMIC_ENVIRONMENT_ID=your_dynamic_environment_id_here
DYNAMIC_API_KEY=your_dynamic_api_key_here
DYNAMIC_JWKS_URL=https://app.dynamic.xyz/api/v0/environments/{ENVIRONMENT_ID}/keys
DYNAMIC_WEBHOOK_SECRET=your_webhook_secret_here

# ================================
# Cloudflare R2 Storage
# ================================
# Get these from your Cloudflare R2 settings
R2_ENDPOINT=https://your_account_id.r2.cloudflarestorage.com
R2_ACCESS_KEY_ID=your_r2_access_key_id
R2_SECRET_ACCESS_KEY=your_r2_secret_access_key
R2_BUCKET_NAME=oof-storage
R2_PUBLIC_URL=https://assets.yourdomain.com

# ================================
# Solana Configuration
# ================================
# Primary RPC endpoint (use Helius for best performance)
RPC_PRIMARY=https://rpc.helius.xyz/?api-key=your_helius_api_key
# Secondary/fallback RPC endpoint
RPC_SECONDARY=https://api.mainnet-beta.solana.com

# Helius webhook secret for transaction webhooks
HELIUS_WEBHOOK_SECRET=your_helius_webhook_secret

# ================================
# External API Configuration
# ================================
# Jupiter Price API (v3)
JUPITER_BASE_URL=https://price.jup.ag/v3

# Pyth Network price feeds
PYTH_HERMES_SSE=wss://hermes.pyth.network/ws

# ================================
# Server Configuration
# ================================
# Railway automatically sets PORT, but you can override
PORT=8080
API_BIND=0.0.0.0:8080
INDEXER_BIND=0.0.0.0:8081

# CORS configuration for frontend
ALLOW_ORIGIN=https://your-frontend-domain.com

# ================================
# Security Configuration
# ================================
# Generate a secure random string (minimum 32 characters)
# You can use: openssl rand -base64 32
APP_SECRET=your_secure_random_string_min_32_characters

# Deployment environment
ENVIRONMENT=production

# ================================
# Optional Configuration
# ================================
# Rust logging level
RUST_LOG=info

# Rust backtrace for debugging (set to 0 in production)
RUST_BACKTRACE=0

# ================================
# Development/Testing Only
# ================================
# These should NOT be set in production

# Override defaults for local development
# CONFIG_FILE=config/development.yml
# LOG_LEVEL=debug

# ================================
# Notes:
# ================================
# 1. Replace all placeholder values with your actual credentials
# 2. Never commit this file with real credentials to version control
# 3. Use Railway's environment variable management for secure storage
# 4. Generate a strong APP_SECRET using a cryptographically secure method
# 5. Ensure R2_PUBLIC_URL uses HTTPS in production
# 6. Configure proper CORS origins for your frontend domain
